--- a/sch_fq_codel_fast.c
+++ b/sch_fq_codel_fast.c
@@ -466,7 +466,11 @@ static int fq_codel_init(struct Qdisc *s
 	int err;
 
 	sch->limit = 10*1024;
+#ifdef CONFIG_X86_64
 	q->memory_limit = 32 << 20; /* 32 MBytes */
+#else
+	q->memory_limit = 4 << 20; /* 4 MBytes */
+#endif
 	q->drop_batch_size = 64;
 	q->quantum = psched_mtu(qdisc_dev(sch));
 	INIT_LIST_HEAD(&q->new_flows);
